<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Reindirizzamento in corso...</title>
    
    <script type="text/javascript">
      // 1. Funzione per reindirizzare la pagina corrente
      function redirect() {
        // La variabile `location` contiene l'URL che ha causato il 404, es. /nr-tombola-frontend/game/table/123
        var pathname = window.location.pathname;
        var search = window.location.search;
        
        // 2. Salva il percorso completo (inclusi i parametri di percorso e query)
        // in sessionStorage. In questo modo, l'app React potrà recuperarlo.
        sessionStorage.setItem('redirect_path', pathname + search);
        
        // 3. GitHub Pages usa la pagina 404.html per servire l'errore.
        // Dobbiamo reindirizzare la pagina al file index.html che si trova
        // nella stessa sottocartella, ma senza la rotta che ha causato il 404.
        
        // Ottieni la base path (es. /nr-tombola-frontend/)
        // Questo è necessario se usi un base path e non sei sulla root del dominio
        var baseSegments = pathname.split('/');
        // Assumiamo che il nome del repository sia il secondo segmento
        // Per /nr-tombola-frontend/game/table/123 -> i segmenti sono ["", "nr-tombola-frontend", "game", ...]
        // Il BASE_URL è /nr-tombola-frontend/
        var baseIndex = 1; // Indice del nome del tuo repository
        
        // Costruisce la radice della sottocartella.
        var basePath = baseSegments.slice(0, baseIndex + 1).join('/');
        
        // 4. Esegue il reindirizzamento alla pagina index.html nella base path.
        // Esempio: reindirizza a /nr-tombola-frontend/index.html
        window.location.replace(basePath + '/index.html');
      }

      // Questo gestisce il primo caricamento o il refresh sulla rotta
      redirect();
    </script>
  </head>
  <body>
    Reindirizzamento al tabellone principale...
  </body>
</html>